//------------------------------------------------------------------------------
// <autogenerated>
//     This code was generated by a CodeSmith Template.
//
//	   DO NOT MODIFY contents of this file. Changes to this
//	   file will be lost if the code is regenerated.
// </autogenerated>
//------------------------------------------------------------------------------

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.ComponentModel;
using Wilson.ORMapper;
using GMSCore;

namespace GMSCore.Entity
{
	///<summary>Database mapping to table aspnet_Membership</summary>
	[DataObject(true)]
    public partial class Member : PersistBase<Member>, IObjectHelper
	{
		#region Properties
	
		private Guid _userId;
		///<summary>Database mapping to column aspnet_Membership.UserId</summary>
		[DataObjectField(true, false)]
		public Guid UserId
		{
			get { return _userId; }
			set
			{
				if (_userId != value)
				{
					_userId = value;
					OnPropertyChanged("UserId");
				}
			}
		}
			
		private string _password;
		///<summary>Database mapping to column aspnet_Membership.Password</summary>
		public string Password
		{
			get { return _password; }
			set
			{
				if (_password != value)
				{
					_password = value;
					OnPropertyChanged("Password");
				}
			}
		}
			
		private int _passwordFormat;
		///<summary>Database mapping to column aspnet_Membership.PasswordFormat</summary>
		public int PasswordFormat
		{
			get { return _passwordFormat; }
			set
			{
				if (_passwordFormat != value)
				{
					_passwordFormat = value;
					OnPropertyChanged("PasswordFormat");
				}
			}
		}
			
		private string _passwordSalt;
		///<summary>Database mapping to column aspnet_Membership.PasswordSalt</summary>
		public string PasswordSalt
		{
			get { return _passwordSalt; }
			set
			{
				if (_passwordSalt != value)
				{
					_passwordSalt = value;
					OnPropertyChanged("PasswordSalt");
				}
			}
		}
			
		private string _email = "";
		///<summary>Database mapping to column aspnet_Membership.Email</summary>
		public string Email
		{
			get { return _email; }
			set
			{
				if (_email != value)
				{
					_email = value;
					OnPropertyChanged("Email");
				}
			}
		}
			
		private string _loweredEmail = "";
		///<summary>Database mapping to column aspnet_Membership.LoweredEmail</summary>
		public string LoweredEmail
		{
			get { return _loweredEmail; }
			set
			{
				if (_loweredEmail != value)
				{
					_loweredEmail = value;
					OnPropertyChanged("LoweredEmail");
				}
			}
		}
			
		private string _passwordQuestion = "";
		///<summary>Database mapping to column aspnet_Membership.PasswordQuestion</summary>
		public string PasswordQuestion
		{
			get { return _passwordQuestion; }
			set
			{
				if (_passwordQuestion != value)
				{
					_passwordQuestion = value;
					OnPropertyChanged("PasswordQuestion");
				}
			}
		}
			
		private string _passwordAnswer = "";
		///<summary>Database mapping to column aspnet_Membership.PasswordAnswer</summary>
		public string PasswordAnswer
		{
			get { return _passwordAnswer; }
			set
			{
				if (_passwordAnswer != value)
				{
					_passwordAnswer = value;
					OnPropertyChanged("PasswordAnswer");
				}
			}
		}
			
		private bool _isApproved;
		///<summary>Database mapping to column aspnet_Membership.IsApproved</summary>
		public bool IsApproved
		{
			get { return _isApproved; }
			set
			{
				if (_isApproved != value)
				{
					_isApproved = value;
					OnPropertyChanged("IsApproved");
				}
			}
		}
			
		private bool _isLockedOut;
		///<summary>Database mapping to column aspnet_Membership.IsLockedOut</summary>
		public bool IsLockedOut
		{
			get { return _isLockedOut; }
			set
			{
				if (_isLockedOut != value)
				{
					_isLockedOut = value;
					OnPropertyChanged("IsLockedOut");
				}
			}
		}
			
		private DateTime _createDate;
		///<summary>Database mapping to column aspnet_Membership.CreateDate</summary>
		public DateTime CreateDate
		{
			get { return _createDate; }
			set
			{
				if (_createDate != value)
				{
					_createDate = value;
					OnPropertyChanged("CreateDate");
				}
			}
		}
			
		private DateTime _lastLoginDate;
		///<summary>Database mapping to column aspnet_Membership.LastLoginDate</summary>
		public DateTime LastLoginDate
		{
			get { return _lastLoginDate; }
			set
			{
				if (_lastLoginDate != value)
				{
					_lastLoginDate = value;
					OnPropertyChanged("LastLoginDate");
				}
			}
		}
			
		private DateTime _lastPasswordChangedDate;
		///<summary>Database mapping to column aspnet_Membership.LastPasswordChangedDate</summary>
		public DateTime LastPasswordChangedDate
		{
			get { return _lastPasswordChangedDate; }
			set
			{
				if (_lastPasswordChangedDate != value)
				{
					_lastPasswordChangedDate = value;
					OnPropertyChanged("LastPasswordChangedDate");
				}
			}
		}
			
		private string _comment = "";
		///<summary>Database mapping to column aspnet_Membership.Comment</summary>
		public string Comment
		{
			get { return _comment; }
			set
			{
				if (_comment != value)
				{
					_comment = value;
					OnPropertyChanged("Comment");
				}
			}
		}
		
		#endregion
		
		///<summary>Initializes a new instance of this class</summary>
		public Member() : base()
		{
			// Default Constructor
		}
		///<summary>Initializes a new instance of this class</summary>
		///<param name="startTracking">Set to true to begin ORMapper tracking on this instance</param>
		public Member(bool startTracking) : base(startTracking)
		{
			
		}
		
		///<summary>Retrieve an instance of this class using its ID from the persistence store</summary>
		[DataObjectMethod(DataObjectMethodType.Select)]
        public static Member RetrieveByKey(Guid userId)
		{
			DBManager db = DBManager.GetInstance();
			return db.Engine.GetObject<Member>(userId);
		}
		
		///<summary>Delete instance from the persistence store based on primary key(s)</summary>
		[DataObjectMethod(DataObjectMethodType.Delete)]
        public static int DeleteByKey(Guid userId)
		{			
			DBManager db = DBManager.GetInstance();		
			QueryHelper helper = db.Engine.QueryHelper;
			string where = helper.GetExpression("Member.UserId", userId);
			
			return Delete(where);
		}
		
		///<summary>Delete instance from the persistence store based on primary key(s) using a transaction</summary>
		///<param name="transaction">An instance of a Wilson.ORMapper.Transaction to perform operation with.</param>
		public static int DeleteByKey(Wilson.ORMapper.Transaction transaction, Guid userId)
		{			
			DBManager db = DBManager.GetInstance();
			QueryHelper helper = db.Engine.QueryHelper;
			string where = helper.GetExpression("Member.UserId", userId);
			
			return Delete(transaction, where);
		}		
		#region IObjectHelper
		/// <summary>Indexer to update local member variables</summary>	
		/// <remarks>This indexer is used by the Wilson ORMapper</remarks>
		object IObjectHelper.this[string memberName]
		{
			get {
				switch (memberName) {
					case "_userId": return _userId;
					case "_password": return _password;
					case "_passwordFormat": return _passwordFormat;
					case "_passwordSalt": return _passwordSalt;
					case "_email": return _email;
					case "_loweredEmail": return _loweredEmail;
					case "_passwordQuestion": return _passwordQuestion;
					case "_passwordAnswer": return _passwordAnswer;
					case "_isApproved": return _isApproved;
					case "_isLockedOut": return _isLockedOut;
					case "_createDate": return _createDate;
					case "_lastLoginDate": return _lastLoginDate;
					case "_lastPasswordChangedDate": return _lastPasswordChangedDate;
					case "_comment": return _comment;
									
					default: throw new Exception(string.Format("Mapping: IObjectHelper Get is missing member case {0}", memberName));
				}
			}
			set {
				//handle null values
				if(value == null)
					return;
					
				switch (memberName) {
					case "_userId": _userId = (Guid)value; break;
					case "_password": _password = (string)value; break;
					case "_passwordFormat": _passwordFormat = (int)value; break;
					case "_passwordSalt": _passwordSalt = (string)value; break;
					case "_email": _email = (string)value; break;
					case "_loweredEmail": _loweredEmail = (string)value; break;
					case "_passwordQuestion": _passwordQuestion = (string)value; break;
					case "_passwordAnswer": _passwordAnswer = (string)value; break;
					case "_isApproved": _isApproved = (bool)value; break;
					case "_isLockedOut": _isLockedOut = (bool)value; break;
					case "_createDate": _createDate = (DateTime)value; break;
					case "_lastLoginDate": _lastLoginDate = (DateTime)value; break;
					case "_lastPasswordChangedDate": _lastPasswordChangedDate = (DateTime)value; break;
					case "_comment": _comment = (string)value; break;
				
					default: throw new Exception(string.Format("Mapping: IObjectHelper Set is missing member case {0}", memberName));
				}
			}
		}
		#endregion
		
		#region ToString
		///<summary>
		///Overwrites the base ToString method. This is used for AuditTrail purposes.
		///</summary>
		public override string ToString()
		{
			System.Text.StringBuilder stb = new System.Text.StringBuilder(500);
			
			stb.AppendFormat("_userId={0}\n,", _userId.ToString() );
			stb.AppendFormat("_password={0}\n,", _password.ToString() );
			stb.AppendFormat("_passwordFormat={0}\n,", _passwordFormat.ToString() );
			stb.AppendFormat("_passwordSalt={0}\n,", _passwordSalt.ToString() );
			stb.AppendFormat("_email={0}\n,", _email.ToString() );
			stb.AppendFormat("_loweredEmail={0}\n,", _loweredEmail.ToString() );
			stb.AppendFormat("_passwordQuestion={0}\n,", _passwordQuestion.ToString() );
			stb.AppendFormat("_passwordAnswer={0}\n,", _passwordAnswer.ToString() );
			stb.AppendFormat("_isApproved={0}\n,", _isApproved.ToString() );
			stb.AppendFormat("_isLockedOut={0}\n,", _isLockedOut.ToString() );
			stb.AppendFormat("_createDate={0}\n,", _createDate.ToString() );
			stb.AppendFormat("_lastLoginDate={0}\n,", _lastLoginDate.ToString() );
			stb.AppendFormat("_lastPasswordChangedDate={0}\n,", _lastPasswordChangedDate.ToString() );
			stb.AppendFormat("_comment={0}\n,", _comment.ToString() );
							
			
			return stb.ToString();
		}
		#endregion

	}
}
