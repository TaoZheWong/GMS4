//------------------------------------------------------------------------------
// <autogenerated>
//     This code was generated by a CodeSmith Template.
//
//	   DO NOT MODIFY contents of this file. Changes to this
//	   file will be lost if the code is regenerated.
// </autogenerated>
//------------------------------------------------------------------------------

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.ComponentModel;
using Wilson.ORMapper;
using GMSCore;

namespace GMSCore.Entity
{
	///<summary>Database mapping to table tbPriceList</summary>
	[DataObject(true)]
    public partial class ProductPrice : PersistBase<ProductPrice>, IObjectHelper
	{
        #region Properties

        private Int32 _ID;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        [DataObjectField(true, true)]
        public Int32 ID
        {
            get { return _ID; }
            set
            {
                if (_ID != value)
                {
                    _ID = value;
                    OnPropertyChanged("ID");
                }
            }
        }

        private short _coyID;
		///<summary>Database mapping to column tbPriceList.CoyID</summary>
		public short CoyID
		{
			get { return _coyID; }
			set
			{
				if (_coyID != value)
				{
					_coyID = value;
					OnPropertyChanged("CoyID");
				}
			}
		}
			
		private string _productCode;
		///<summary>Database mapping to column tbPriceList.ProductCode</summary>
		public string ProductCode
		{
			get { return _productCode; }
			set
			{
				if (_productCode != value)
				{
					_productCode = value;
					OnPropertyChanged("ProductCode");
				}
			}
		}

        private string _productGroupCode;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public string ProductGroupCode
        {
            get { return _productGroupCode; }
            set
            {
                if (_productGroupCode != value)
                {
                    _productGroupCode = value;
                    OnPropertyChanged("ProductGroupCode");
                }
            }
        }

        private string _country;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public string Country
        {
            get { return _country; }
            set
            {
                if (_country != value)
                {
                    _country = value;
                    OnPropertyChanged("Country");
                }
            }
        }

        private decimal _weightedCost;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal WeightedCost
        {
            get { return _weightedCost; }
            set
            {
                if (_weightedCost != value)
                {
                    _weightedCost = value;
                    OnPropertyChanged("WeightedCost");
                }
            }
        }

        private decimal _dealerPrice;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal DealerPrice
        {
            get { return _dealerPrice; }
            set
            {
                if (_dealerPrice != value)
                {
                    _dealerPrice = value;
                    OnPropertyChanged("DealerPrice");
                }
            }
        }

        private decimal _userPrice;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal UserPrice
        {
            get { return _userPrice; }
            set
            {
                if (_userPrice != value)
                {
                    _userPrice = value;
                    OnPropertyChanged("UserPrice");
                }
            }
        }

        private decimal _retailPrice;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal RetailPrice
        {
            get { return _retailPrice; }
            set
            {
                if (_retailPrice != value)
                {
                    _retailPrice = value;
                    OnPropertyChanged("RetailPrice");
                }
            }
        }

        private decimal _dPercent;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal DPercent
        {
            get { return _dPercent; }
            set
            {
                if (_dPercent != value)
                {
                    _dPercent = value;
                    OnPropertyChanged("DPercent");
                }
            }
        }

        private decimal _uPercent;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal UPercent
        {
            get { return _uPercent; }
            set
            {
                if (_uPercent != value)
                {
                    _uPercent = value;
                    OnPropertyChanged("UPercent");
                }
            }
        }

        private decimal _rPercent;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public decimal RPercent
        {
            get { return _rPercent; }
            set
            {
                if (_rPercent != value)
                {
                    _rPercent = value;
                    OnPropertyChanged("RPercent");
                }
            }
        }

        private short _updatedBy;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public short UpdatedBy
        {
            get { return _updatedBy; }
            set
            {
                if (_updatedBy != value)
                {
                    _updatedBy = value;
                    OnPropertyChanged("UpdatedBy");
                }
            }
        }

        private DateTime _updatedDate;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public DateTime UpdatedDate
        {
            get { return _updatedDate; }
            set
            {
                if (_updatedDate != value)
                {
                    _updatedDate = value;
                    OnPropertyChanged("UpdatedDate");
                }
            }
        }

        private string _remarks;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public string Remarks
        {
            get { return _remarks; }
            set
            {
                if (_remarks != value)
                {
                    _remarks = value;
                    OnPropertyChanged("Remarks");
                }
            }
        }

        private Boolean _isExpired;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public Boolean IsExpired
        {
            get { return _isExpired; }
            set
            {
                if (_isExpired != value)
                {
                    _isExpired = value;
                    OnPropertyChanged("IsExpired");
                }
            }
        }

        private Int32 _sortOrder;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public Int32 SortOrder
        {
            get { return _sortOrder; }
            set
            {
                if (_sortOrder != value)
                {
                    _sortOrder = value;
                    OnPropertyChanged("SortOrder");
                }
            }
        }

        private Int32 _reorderLevel;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public Int32 ReorderLevel
        {
            get { return _reorderLevel; }
            set
            {
                if (_reorderLevel != value)
                {
                    _reorderLevel = value;
                    OnPropertyChanged("ReorderLevel");
                }
            }
        }

        private Boolean _tradingStock;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public Boolean TradingStock
        {
            get { return _tradingStock; }
            set
            {
                if (_tradingStock != value)
                {
                    _tradingStock = value;
                    OnPropertyChanged("TradingStock");
                }
            }
        }

        private DateTime _effectiveDate;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public DateTime EffectiveDate
        {
            get { return _effectiveDate; }
            set
            {
                if (_effectiveDate != value)
                {
                    _effectiveDate = value;
                    OnPropertyChanged("EffectiveDate");
                }
            }
        }

        private string _status;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public string Status
        {
            get { return _status; }
            set
            {
                if (_status != value)
                {
                    _status = value;
                    OnPropertyChanged("Status");
                }
            }
        }

        #endregion

        ///<summary>Initializes a new instance of this class</summary>
        public ProductPrice() : base()
		{
			// Default Constructor
		}

        [DataObjectMethod(DataObjectMethodType.Select)]
        public static ProductPrice RetrieveByKey(short coyID, string productCode)
        {
            DBManager db = DBManager.GetInstance();
            QueryHelper helper = db.Engine.QueryHelper;
            string where = helper.GetExpression("ProductPrice.ProductCode", productCode);
            where += " and ";
            where += helper.GetExpression("ProductPrice.CoyID", coyID);
            where += " and ";
            where += helper.GetExpression("ProductPrice.IsExpired", 0);

            return RetrieveFirst(where);
        }

        [DataObjectMethod(DataObjectMethodType.Select)]
        public static ProductPrice RetrieveByKeyExpired(short coyID, string productCode)
        {
            DBManager db = DBManager.GetInstance();
            QueryHelper helper = db.Engine.QueryHelper;
            string where = helper.GetExpression("ProductPrice.ProductCode", productCode);
            where += " and ";
            where += helper.GetExpression("ProductPrice.CoyID", coyID);
            where += " and ";
            where += helper.GetExpression("ProductPrice.IsExpired", 1);

            return RetrieveFirst(where);
        }

        [DataObjectMethod(DataObjectMethodType.Select)]
        public static ProductPrice RetrieveByKeyPending(short coyID, string productCode)
        {
            DBManager db = DBManager.GetInstance();
            QueryHelper helper = db.Engine.QueryHelper;
            string where = helper.GetExpression("ProductPrice.ProductCode", productCode);
            where += " and ";
            where += helper.GetExpression("ProductPrice.CoyID", coyID);
            where += " and ";
            where += helper.GetExpression("ProductPrice.Status", "Pending");

            return RetrieveFirst(where);
        }

        #region IObjectHelper
        /// <summary>Indexer to update local member variables</summary>	
        /// <remarks>This indexer is used by the Wilson ORMapper</remarks>
        object IObjectHelper.this[string memberName]
		{
			get {
				switch (memberName) {
                    case "_ID": return _ID;
					case "_coyID": return _coyID;
					case "_productCode": return _productCode;
                    case "_productGroupCode": return _productGroupCode;
                    case "_country": return _country;
                    case "_weightedCost": return _weightedCost;
                    case "_dealerPrice": return _dealerPrice;
                    case "_userPrice": return _userPrice;
                    case "_retailPrice": return _retailPrice;
                    case "_dPercent": return _dPercent;
                    case "_uPercent": return _uPercent;
                    case "_rPercent": return _rPercent;
                    case "_updatedBy": return _updatedBy;
                    case "_updatedDate": return _updatedDate;
                    case "_remarks": return _remarks;
                    case "_isExpired": return _isExpired;
                    case "_sortOrder": return _sortOrder;
                    case "_reorderLevel": return _reorderLevel;
                    case "_tradingStock": return _tradingStock;
                    case "_effectiveDate": return _effectiveDate;
                    case "_status": return _status;

                    default: throw new Exception(string.Format("Mapping: IObjectHelper Get is missing member case {0}", memberName));
				}
			}
			set {
				//handle null values
				if(value == null)
					return;
					
				switch (memberName) {
                    case "_ID": _ID = (Int32)value; break;
					case "_coyID": _coyID = (short)value; break;
                    case "_productCode": _productCode = (string)value; break;
                    case "_productGroupCode": _productGroupCode = (string)value; break;
                    case "_country": _country = (string)value; break;
                    case "_weightedCost": _weightedCost = (decimal)value; break;
                    case "_dealerPrice": _dealerPrice = (decimal)value; break;
                    case "_userPrice": _userPrice = (decimal)value; break;
                    case "_retailPrice": _retailPrice = (decimal)value; break;
                    case "_dPercent": _dPercent = (decimal)value; break;
                    case "_uPercent": _uPercent = (decimal)value; break;
                    case "_rPercent": _rPercent = (decimal)value; break;
                    case "_updatedBy": _updatedBy = (short)value; break;
                    case "_updatedDate": _updatedDate = (DateTime)value; break;
                    case "_remarks": _remarks = (string)value; break;
                    case "_isExpired": _isExpired = (Boolean)value; break;
                    case "_sortOrder": _sortOrder = (Int32)value; break;
                    case "_reorderLevel": _reorderLevel = (Int32)value; break;
                    case "_tradingStock": _tradingStock = (Boolean)value; break;
                    case "_effectiveDate": _effectiveDate = (DateTime)value; break;
                    case "_status": _status = (string)value; break;

                    default: throw new Exception(string.Format("Mapping: IObjectHelper Set is missing member case {0}", memberName));
				}
			}
		}
		#endregion
		
		#region ToString
		///<summary>
		///Overwrites the base ToString method. This is used for AuditTrail purposes.
		///</summary>
		public override string ToString()
		{
			System.Text.StringBuilder stb = new System.Text.StringBuilder(500);

			stb.AppendFormat("_ID={0}\n,", _ID.ToString());
			stb.AppendFormat("_coyID={0}\n,", _coyID.ToString() );
			stb.AppendFormat("_productCode={0}\n,", _productCode.ToString() );
            stb.AppendFormat("_productGroupCode={0}\n,", _productGroupCode.ToString());
            stb.AppendFormat("_country={0}\n,", _country.ToString());
            stb.AppendFormat("_weightedCost={0}\n,", _weightedCost.ToString());
            stb.AppendFormat("_dealerPrice={0}\n,", _dealerPrice.ToString());
            stb.AppendFormat("_userPrice={0}\n,", _userPrice.ToString());
            stb.AppendFormat("_retailPrice={0}\n,", _retailPrice.ToString());
            stb.AppendFormat("_dPercent={0}\n,", _dPercent.ToString());
            stb.AppendFormat("_uPercent={0}\n,", _uPercent.ToString());
            stb.AppendFormat("_rPercent={0}\n,", _rPercent.ToString());
            stb.AppendFormat("_updatedBy={0}\n,", _updatedBy.ToString());
            stb.AppendFormat("_updatedDate={0}\n,", _updatedDate.ToString());
            stb.AppendFormat("_remarks={0}\n,", _remarks.ToString());
            stb.AppendFormat("_isExpired={0}\n,", _isExpired.ToString());
            stb.AppendFormat("_sortOrder={0}\n,", _sortOrder.ToString());
            stb.AppendFormat("_reorderLevel={0}\n,", _reorderLevel.ToString());
            stb.AppendFormat("_tradingStock={0}\n,", _tradingStock.ToString());
            stb.AppendFormat("_effectiveDate={0}\n,", _effectiveDate.ToString());
            stb.AppendFormat("_status={0}\n,", _status.ToString());

            return stb.ToString();
		}
		#endregion

	}
}
