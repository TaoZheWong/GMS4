//------------------------------------------------------------------------------
// <autogenerated>
//     This code was generated by a CodeSmith Template.
//
//	   DO NOT MODIFY contents of this file. Changes to this
//	   file will be lost if the code is regenerated.
// </autogenerated>
//------------------------------------------------------------------------------

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.ComponentModel;
using Wilson.ORMapper;
using GMSCore;

namespace GMSCore.Entity
{
	///<summary>Database mapping to table tbPriceList</summary>
	[DataObject(true)]
    public partial class CostAllocation : PersistBase<CostAllocation>, IObjectHelper
	{
        #region Properties

        private Int32 _detailItemNo;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        [DataObjectField(true, true)]
        public Int32 _DetailItemNo
        {
            get { return _detailItemNo; }
            set
            {
                if (_detailItemNo != value)
                {
                    _detailItemNo = value;
                    OnPropertyChanged("_DetailItemNo");
                }
            }
        }

        private short _coyID;
		///<summary>Database mapping to column tbPriceList.CoyID</summary>
		public short CoyID
		{
			get { return _coyID; }
			set
			{
				if (_coyID != value)
				{
					_coyID = value;
					OnPropertyChanged("CoyID");
				}
			}
		}

        private Int32 _tbyear;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public Int32 tbYear
        {
            get { return _tbyear; }
            set
            {
                if (_tbyear != value)
                {
                    _tbyear = value;
                    OnPropertyChanged("tbYear");
                }
            }
        }

        private Int32 _tbMonth;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public Int32 tbMonth
        {
            get { return _tbMonth; }
            set
            {
                if (_tbMonth != value)
                {
                    _tbMonth = value;
                    OnPropertyChanged("tbMonth");
                }
            }
        }

        private short _dim1;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public short Dim1
        {
            get { return _dim1; }
            set
            {
                if (_dim1 != value)
                {
                    _dim1 = value;
                    OnPropertyChanged("Dim1");
                }
            }
        }

        private short _dim2;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public short Dim2
        {
            get { return _dim2; }
            set
            {
                if (_dim2 != value)
                {
                    _dim2 = value;
                    OnPropertyChanged("Dim2");
                }
            }
        }

        private short _dim3;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public short Dim3
        {
            get { return _dim3; }
            set
            {
                if (_dim3 != value)
                {
                    _dim3 = value;
                    OnPropertyChanged("Dim3");
                }
            }
        }

        private short _dim4;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public short Dim4
        {
            get { return _dim4; }
            set
            {
                if (_dim4 != value)
                {
                    _dim4 = value;
                    OnPropertyChanged("Dim4");
                }
            }
        }

        private short _percentage;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public short Percentage
        {
            get { return _percentage; }
            set
            {
                if (_percentage != value)
                {
                    _percentage = value;
                    OnPropertyChanged("Percentage");
                }
            }
        }

        private double _allocatedCost;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public double AllocatedCost
        {
            get { return _allocatedCost; }
            set
            {
                if (_allocatedCost != value)
                {
                    _allocatedCost = value;
                    OnPropertyChanged("AllocatedCost");
                }
            }
        }

        private string _uom;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public string UOM
        {
            get { return _uom; }
            set
            {
                if (_uom != value)
                {
                    _uom = value;
                    OnPropertyChanged("UOM");
                }
            }
        }

        private Int32 _quantity;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public Int32 Quantity
        {
            get { return _quantity; }
            set
            {
                if (_quantity != value)
                {
                    _quantity = value;
                    OnPropertyChanged("Quantity");
                }
            }
        }

        private Int32 _unitCost;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public Int32 UnitCost
        {
            get { return _unitCost; }
            set
            {
                if (_unitCost != value)
                {
                    _unitCost = value;
                    OnPropertyChanged("UnitCost");
                }
            }
        }

        private Int32 _childID;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public Int32 ChildID
        {
            get { return _childID; }
            set
            {
                if (_childID != value)
                {
                    _childID = value;
                    OnPropertyChanged("ChildID");
                }
            }
        }

        private Int32 _parentID;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public Int32 ParentID
        {
            get { return _parentID; }
            set
            {
                if (_parentID != value)
                {
                    _parentID = value;
                    OnPropertyChanged("ParentID");
                }
            }
        }

        private Int32 _updatedBy;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public Int32 UpdatedBy
        {
            get { return _updatedBy; }
            set
            {
                if (_updatedBy != value)
                {
                    _updatedBy = value;
                    OnPropertyChanged("UpdatedBy");
                }
            }
        }

        private DateTime _updatedDate;
        ///<summary>Database mapping to column tbPriceList.ProductCode</summary>
        public DateTime UpdatedDate
        {
            get { return _updatedDate; }
            set
            {
                if (_updatedDate != value)
                {
                    _updatedDate = value;
                    OnPropertyChanged("UpdatedDate");
                }
            }
        }

        private string _fileName;
        ///<summary>Database mapping to column tbPriceList.CoyID</summary>
        public string FileName
        {
            get { return _fileName; }
            set
            {
                if (_fileName != value)
                {
                    _fileName = value;
                    OnPropertyChanged("FileName");
                }
            }
        }

        #endregion

        ///<summary>Initializes a new instance of this class</summary>
        public CostAllocation() : base()
		{
			// Default Constructor
		}

        [DataObjectMethod(DataObjectMethodType.Select)]
        public static CostAllocation RetrieveByKey(int detailItemNo)
        {
            DBManager db = DBManager.GetInstance();
            QueryHelper helper = db.Engine.QueryHelper;
            string where = helper.GetExpression("CostAllocation.DetailItemNo", detailItemNo);
            return RetrieveFirst(where);
        }

        [DataObjectMethod(DataObjectMethodType.Select)]
        public static CostAllocation RetrieveByYearByDim(short coyid, int year, int month, short dim1, short dim2, short dim3, short dim4, int parentID,int childID)
        {
            DBManager db = DBManager.GetInstance();
            QueryHelper helper = db.Engine.QueryHelper;
            string where = helper.GetExpression("CostAllocation.CoyID", coyid);
            where += " and ";
            where += helper.GetExpression("CostAllocation.tbYear", year);
            where += " and ";
            where += helper.GetExpression("CostAllocation.tbMonth", month);
            where += " and ";
            where += helper.GetExpression("CostAllocation.Dim1", dim1);
            where += " and ";
            where += helper.GetExpression("CostAllocation.Dim2", dim2);
            where += " and ";
            where += helper.GetExpression("CostAllocation.Dim3", dim3);
            where += " and ";
            where += helper.GetExpression("CostAllocation.Dim4", dim4);
            where += " and ";
            where += helper.GetExpression("CostAllocation.ParentID", parentID);
            where += " and ";
            where += helper.GetExpression("CostAllocation.ChildID", childID);
            return RetrieveFirst(where);
        }

        [DataObjectMethod(DataObjectMethodType.Delete)]
        public static int DeleteByKey(int detailItemNo)
        {
            DBManager db = DBManager.GetInstance();
            QueryHelper helper = db.Engine.QueryHelper;
            string where = helper.GetExpression("CostAllocation.DetailItemNo", detailItemNo);
            return Delete(where);
        }



        #region IObjectHelper
        /// <summary>Indexer to update local member variables</summary>	
        /// <remarks>This indexer is used by the Wilson ORMapper</remarks>
        object IObjectHelper.this[string memberName]
		{
			get {
				switch (memberName) {
                    case "_detailItemNo": return _detailItemNo;
					case "_coyID": return _coyID;
					case "_tbyear": return _tbyear;
                    case "_tbMonth": return _tbMonth;
                    case "_dim1": return _dim1;
                    case "_dim2": return _dim2;
                    case "_dim3": return _dim3;
                    case "_dim4": return _dim4;
                    case "_percentage": return _percentage;
                    case "_allocatedCost": return _allocatedCost;
                    case "_uom": return _uom;
                    case "_quantity": return _quantity;
                    case "_unitCost": return _unitCost;
                    case "_parentID": return _parentID;
                    case "_childID": return _childID;
                    case "_updatedBy": return _updatedBy;
                    case "_updatedDate": return _updatedDate;
                    case "_fileName": return _fileName;

                    default: throw new Exception(string.Format("Mapping: IObjectHelper Get is missing member case {0}", memberName));
				}
			}
			set {
				//handle null values
				if(value == null)
					return;
					
				switch (memberName) {
                    case "_detailItemNo": _detailItemNo = (Int32)value; break;
					case "_coyID": _coyID = (short)value; break;
                    case "_tbyear": _tbyear = (Int32)value; break;
                    case "_tbMonth": _tbMonth = (Int32)value; break;
                    case "_dim1": _dim1 = (short)value; break;
                    case "_dim2": _dim2 = (short)value; break;
                    case "_dim3": _dim3 = (short)value; break;
                    case "_dim4": _dim4 = (short)value; break;
                    case "_percentage": _percentage = (short)value; break;
                    case "_allocatedCost": _allocatedCost = (double)value; break;
                    case "_uom": _uom = (string)value; break;
                    case "_quantity": _quantity = (Int32)value; break;
                    case "_unitCost": _unitCost = (Int32)value; break;
                    case "_parentID": _parentID = (Int32)value; break;
                    case "_childID": _childID = (Int32)value; break;
                    case "_updatedBy": _updatedBy = (Int32)value; break;
                    case "_updatedDate": _updatedDate = (DateTime)value; break;
                    case "_fileName": _fileName = (string)value; break;

                    default: throw new Exception(string.Format("Mapping: IObjectHelper Set is missing member case {0}", memberName));
				}
			}
		}
		#endregion
		
		#region ToString
		///<summary>
		///Overwrites the base ToString method. This is used for AuditTrail purposes.
		///</summary>
		public override string ToString()
		{
			System.Text.StringBuilder stb = new System.Text.StringBuilder(500);

			stb.AppendFormat("_detailItemNo={0}\n,", _detailItemNo.ToString());
			stb.AppendFormat("_coyID={0}\n,", _coyID.ToString() );
			stb.AppendFormat("_tbyear={0}\n,", _tbyear.ToString() );
            stb.AppendFormat("_tbMonth={0}\n,", _tbMonth.ToString());
            stb.AppendFormat("_dim1={0}\n,", _dim1.ToString());
            stb.AppendFormat("_dim2={0}\n,", _dim2.ToString());
            stb.AppendFormat("_dim3={0}\n,", _dim3.ToString());
            stb.AppendFormat("_dim4={0}\n,", _dim4.ToString());
            stb.AppendFormat("_percentage={0}\n,", _percentage.ToString());
            stb.AppendFormat("_allocatedCost={0}\n,", _allocatedCost.ToString());
            stb.AppendFormat("_uom={0}\n,", _uom.ToString());
            stb.AppendFormat("_quantity={0}\n,", _quantity.ToString());
            stb.AppendFormat("_unitCost={0}\n,", _unitCost.ToString());
            stb.AppendFormat("_parentID={0}\n,", _parentID.ToString());
            stb.AppendFormat("_childID={0}\n,", _childID.ToString());
            stb.AppendFormat("_updatedBy={0}\n,", _updatedBy.ToString());
            stb.AppendFormat("_updatedDate={0}\n,", _updatedDate.ToString());
            stb.AppendFormat("_fileName={0}\n,", _fileName.ToString());

            return stb.ToString();
		}
		#endregion

	}
}
